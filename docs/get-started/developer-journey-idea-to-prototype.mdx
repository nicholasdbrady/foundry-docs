---
title: "Tutorial: Idea to prototype - Build and evaluate an enterprise agent"
description: "Prototype an enterprise agent: build a single agent with SharePoint grounding and Model Context Protocol (MCP) tools, run batch evaluation, extend to multi-agent, and deploy to Microsoft Foundry."
---
# Tutorial: Idea to prototype - Build and evaluate an enterprise agent

This tutorial covers the first stage of the Microsoft Foundry developer journey: from an initial idea to a working prototype. You build a **modern workplace assistant** that combines internal company knowledge with external technical guidance by using the Microsoft Foundry SDK.

**Business scenario**: Create an AI assistant that helps employees by combining:

- **Company policies** (from SharePoint documents)
- **Technical implementation guidance** (from Microsoft Learn via MCP)
- **Complete solutions** (combining both sources for business implementation)
- **Batch evaluation** to validate agent performance on realistic business scenarios

**Tutorial outcome**: By the end you have a running Modern Workplace Assistant that can answer policy, technical, and combined implementation questions; a repeatable batch evaluation script; and clear extension points (other tools, multi‚Äëagent patterns, richer evaluation).

**You will:**
<Check>Build a Modern Workplace Assistant with SharePoint and MCP integration.</Check>
<Check>Demonstrate real business scenarios combining internal and external knowledge.</Check>
<Check>Implement robust error handling and graceful degradation.</Check>
<Check>Create evaluation framework for business-focused testing.</Check>
<Check>Prepare foundation for governance and production deployment.</Check>
This minimal sample demonstrates enterprise-ready patterns with realistic business scenarios.

<Info>
Code in this article uses packages that are currently in preview. This preview is provided without a service-level agreement, and we don't recommend it for production workloads. Certain features might not be supported or might have constrained capabilities. For more information, see [Supplemental Terms of Use for Microsoft Azure Previews](https://azure.microsoft.com/support/legal/preview-supplemental-terms/).
</Info>

## Prerequisites 

- Azure subscription and CLI authentication (`az login`)
- Azure CLI 2.67.0 or later (check with `az version`)
- A Foundry **project** with a deployed model (for example, `gpt-4o-mini`). If you don't have one: [Create a project](/setup/create-projects) and then deploy a model (see model overview: [Model catalog](../../concepts/foundry-models-overview.md)). 
- Python 3.10 or later
- .NET SDK (for the C# sample)
- SharePoint connection configured in your project ([SharePoint tool documentation](/agents/tools/sharepoint))

  <Note>

</Note>  > To configure your Foundry project for SharePoint connectivity, see the [SharePoint tool documentation](/agents/tools/sharepoint).

- (Optional) Git installed for cloning the sample repository

## Step 1: Get the sample code

Instead of navigating a large repository tree, use one of these approaches:

#### Option A (clone entire samples repo)

<Tip>
Code uses **Azure AI Projects 2.x (preview)** and is incompatible with Azure AI Projects 1.x.
</Tip>
<Tabs>
  <Tab title="Python">

    ```bash
    git clone --depth 1 https://github.com/microsoft-foundry/foundry-samples.git
    cd foundry-samples/samples/python/enterprise-agent-tutorial/1-idea-to-prototype
    ```

  </Tab>
  <Tab title="C#">

    ```bash
    git clone --depth 1 https://github.com/azure-ai-foundry/foundry-samples.git
    cd foundry-samples/samples/csharp/enterprise-agent-tutorial/1-idea-to-prototype
    ```

  </Tab>
</Tabs>

#### Option B (sparse checkout only this tutorial - reduced download)

<Tabs>
  <Tab title="Python">

    ```bash
    git clone --no-checkout https://github.com/microsoft-foundry/foundry-samples.git
    cd foundry-samples
    git sparse-checkout init --cone
    git sparse-checkout set samples/python/enterprise-agent-tutorial/1-idea-to-prototype
    git checkout
    cd samples/python/enterprise-agent-tutorial/1-idea-to-prototype
    ```

  </Tab>
  <Tab title="C#">

    ```bash
    git clone --no-checkout https://github.com/azure-ai-foundry/foundry-samples.git
    cd foundry-samples
    git sparse-checkout init --cone
    git sparse-checkout set samples/csharp/enterprise-agent-tutorial/1-idea-to-prototype
    git checkout
    cd samples/csharp/enterprise-agent-tutorial/1-idea-to-prototype
    ```

  </Tab>
</Tabs>

#### Option C (Download ZIP of repository)

Download the repository ZIP, extract it to your local environment, and go to the tutorial folder.

<Info>
For production adoption, use a standalone repository. This tutorial uses the shared samples repo. Sparse checkout minimizes local noise.
</Info>
<Tabs>
  <Tab title="Python">

    <Card title="Download the Python code now" icon="arrow-right" href="https://github.com/microsoft-foundry/foundry-samples/tree/main/samples/python/enterprise-agent-tutorial/1-idea-to-prototype" />
    After you extract the ZIP, go to `samples/python/enterprise-agent-tutorial/1-idea-to-prototype`.

  </Tab>
  <Tab title="C#">

    <Card title="Download the C# code now" icon="arrow-right" href="https://github.com/azure-ai-foundry/foundry-samples/tree/main/samples/csharp/enterprise-agent-tutorial/1-idea-to-prototype" />
    After you extract the ZIP, go to `samples/csharp/enterprise-agent-tutorial/1-idea-to-prototype`.

  </Tab>
</Tabs>

The minimal structure contains only essential files:

<Tabs>
  <Tab title="Python">

    ```text
    enterprise-agent-tutorial/
    ‚îî‚îÄ‚îÄ 1-idea-to-prototype/
       ‚îú‚îÄ‚îÄ .env                             # Create this file (local environment variables)
       ‚îú‚îÄ‚îÄ .gitkeep
       ‚îú‚îÄ‚îÄ evaluate.py                      # Business evaluation framework
       ‚îú‚îÄ‚îÄ evaluation_results.json
       ‚îú‚îÄ‚îÄ main.py                          # Modern Workplace Assistant
       ‚îú‚îÄ‚îÄ questions.jsonl                  # Business test scenarios (4 questions)
       ‚îú‚îÄ‚îÄ requirements.txt                 # Python dependencies
       ‚îî‚îÄ‚îÄ sharepoint-sample-data/          # Sample business documents for SharePoint
          ‚îú‚îÄ‚îÄ collaboration-standards.docx
          ‚îú‚îÄ‚îÄ data-governance-policy.docx
          ‚îú‚îÄ‚îÄ remote-work-policy.docx
          ‚îî‚îÄ‚îÄ security-guidelines.docx
    ```

  </Tab>
  <Tab title="C#">

    ```text
    enterprise-agent-tutorial/
    ‚îî‚îÄ‚îÄ 1-idea-to-prototype/
       ‚îú‚îÄ‚îÄ ModernWorkplaceAssistant/        # Modern Workplace Assistant
       ‚îÇ   ‚îú‚îÄ‚îÄ Program.cs                   # Agent implementation with SharePoint + MCP
       ‚îÇ   ‚îú‚îÄ‚îÄ ModernWorkplaceAssistant.csproj
       ‚îÇ   ‚îî‚îÄ‚îÄ .env                         # Environment variables (create this)
       ‚îú‚îÄ‚îÄ Evaluate/                        # Cloud evaluation framework
       ‚îÇ   ‚îú‚îÄ‚îÄ Program.cs                   # Cloud evaluation with built-in evaluators
       ‚îÇ   ‚îú‚îÄ‚îÄ Evaluate.csproj
       ‚îÇ   ‚îî‚îÄ‚îÄ evaluation_results.json      # Example output (generated)
       ‚îú‚îÄ‚îÄ questions.jsonl                  # Business test scenarios
       ‚îî‚îÄ‚îÄ README.md                        # Complete setup instructions
    ```

  </Tab>
</Tabs>

## Step 2: Run the sample immediately

Start by running the agent so you see working functionality before diving into implementation details.

### Environment setup and virtual environment

1. Install the required language runtimes, global tools, and VS Code extensions as described in [Prepare your development environment](/developer-experience/install-cli-sdk).

1. Verify that your `requirements.txt` uses these published package versions:

   ```text
   azure-ai-projects==2.0.0b3
   azure-identity
   python-dotenv
   openai
   ```

1. Install dependencies:

   # [Python](#tab/python)

   ```bash
   python -m pip install -r requirements.txt
   ```

   # [C#](#tab/csharp)

   ```bash
   cd ModernWorkplaceAssistant
   dotnet restore

   cd ../Evaluate
   dotnet restore
   ```
   ---

1. Find your project endpoint on the welcome screen of the project. 

<Frame>
  <img src="/images/project-endpoint.png" alt="Screenshot of Microsoft Foundry Models welcome screen showing the endpoint URL and copy button." />
</Frame> 
1. Configure `.env`.

   Set the environment values required for your language.

<Tabs>
  <Tab title="Python">

    Copy `.env.template` to `.env`.

  </Tab>
  <Tab title="C#">

    Create a `.env` file in the `ModernWorkplaceAssistant` directory.

  </Tab>
</Tabs>

<Tabs>
  <Tab title="Python">

    ```dotenv
    # Foundry configuration
    PROJECT_ENDPOINT=https://<your-project>.aiservices.azure.com
    MODEL_DEPLOYMENT_NAME=gpt-4o-mini

    # The Microsoft Learn MCP Server (optional)
    MCP_SERVER_URL=https://learn.microsoft.com/api/mcp

    # SharePoint integration (optional - requires connection name)
    SHAREPOINT_CONNECTION_NAME=<your-sharepoint-connection-name>
    ```

  </Tab>
  <Tab title="C#">

    ```dotenv
    # Foundry configuration
    PROJECT_ENDPOINT=https://<your-project>.aiservices.azure.com
    MODEL_DEPLOYMENT_NAME=gpt-4o-mini

    # SharePoint integration (optional - requires connection name)
    SHAREPOINT_CONNECTION_NAME=<your-sharepoint-connection-name>

    # The Microsoft Learn MCP Server (optional)
    MCP_SERVER_URL=https://learn.microsoft.com/api/mcp
    ```

  </Tab>
</Tabs>

<Tip>
To get your **tenant ID**, run:

```bash
# Get tenant ID
az account show --query tenantId -o tsv
```

To get your **project endpoint**, open your project in the [Foundry portal](https://ai.azure.com) and copy the value shown there.
</Tip>
### Run agent and evaluation

<Tabs>
  <Tab title="Python">

    ```bash
    python main.py
    python evaluate.py
    ```

  </Tab>
  <Tab title="C#">

    ```bash
    cd ModernWorkplaceAssistant
    dotnet restore
    dotnet run

    cd ../Evaluate
    dotnet restore
    dotnet run
    ```

  </Tab>
</Tabs>

### Expected output (agent first run)

Successful run with SharePoint:

```text
ü§ñ Creating Modern Workplace Assistant...
‚úÖ SharePoint tool configured successfully
‚úÖ Agent created successfully (name: Modern Workplace Assistant, version: 1)
```

Graceful degradation without SharePoint:

```text
üìÅ SharePoint integration skipped (SHAREPOINT_CONNECTION_NAME not set)
‚úÖ Agent created successfully (name: Modern Workplace Assistant, version: 1)
```

Now that you have a working agent, the next sections explain how it works. You don't need to take any action while reading these sections‚Äîthey're for explanation.

## Step 3: Set up sample SharePoint business documents

1. Go to your SharePoint site (configured in the connection).
1. Create document library "Company Policies" (or use existing "Documents").
1. Upload the four sample Word documents provided in the `sharepoint-sample-data` folder:
   - `remote-work-policy.docx`
   - `security-guidelines.docx`  
   - `collaboration-standards.docx`
   - `data-governance-policy.docx`

### Sample structure

```text
üìÅ Company Policies/
‚îú‚îÄ‚îÄ remote-work-policy.docx      # VPN, MFA, device requirements
‚îú‚îÄ‚îÄ security-guidelines.docx     # Azure security standards
‚îú‚îÄ‚îÄ collaboration-standards.docx # Teams, SharePoint usage
‚îî‚îÄ‚îÄ data-governance-policy.docx  # Data classification, retention
```

## Step 4: Understand the assistant implementation

This section explains the core code in `main.py` (Python) or `ModernWorkplaceAssistant/Program.cs` (C#). You already ran the agent. This section is conceptual and requires no changes. After reading it, you can:
- Add new internal and external data tools.
- Extend dynamic instructions.
- Introduce multi-agent orchestration.
- Enhance observability and diagnostics.

The code breaks down into the following main sections, ordered as they appear in the full sample code:

1. [Configure imports and authentication](#imports-and-authentication-setup)
1. [Configure authentication to Azure](#configure-authentication-in-azure)
1. [Configure the SharePoint tool](#create-the-sharepoint-tool-for-the-agent)
1. [Configure MCP tool](#create-the-mcp-tool-for-the-agent)
1. [Create the agent and connect the tools](#create-the-agent-and-connect-the-tools)
1. [Converse with the agent](#converse-with-the-agent)

<Info>
Code in this article uses packages that are currently in preview. This preview is provided without a service-level agreement, and we don't recommend it for production workloads. Certain features might not be supported or might have constrained capabilities. For more information, see [Supplemental Terms of Use for Microsoft Azure Previews](https://azure.microsoft.com/support/legal/preview-supplemental-terms/).
</Info>
### Imports and authentication setup

The code uses several client libraries from the Microsoft Foundry SDK to create a robust enterprise agent.

<Tabs>
  <Tab title="Python">

    :::code language="python" source="~/foundry-samples-main/samples/python/enterprise-agent-tutorial/1-idea-to-prototype/main.py" id="imports_and_includes":::

  </Tab>
  <Tab title="C#">

    :::code language="csharp" source="~/foundry-samples-main/samples/csharp/enterprise-agent-tutorial/1-idea-to-prototype/ModernWorkplaceAssistant/Program.cs" id="imports_and_includes":::

  </Tab>
</Tabs>

### Configure authentication in Azure

Before you create your agent, set up authentication to the Foundry.

<Tabs>
  <Tab title="Python">

    :::code language="python" source="~/foundry-samples-main/samples/python/enterprise-agent-tutorial/1-idea-to-prototype/main.py" id="agent_authentication":::

  </Tab>
  <Tab title="C#">

    :::code language="csharp" source="~/foundry-samples-main/samples/csharp/enterprise-agent-tutorial/1-idea-to-prototype/ModernWorkplaceAssistant/Program.cs" id="agent_authentication":::

  </Tab>
</Tabs>

### Create the SharePoint tool for the agent

The agent uses SharePoint and can access company policy and procedure documents stored there. Set up the connection to SharePoint in your code.

<Tabs>
  <Tab title="Python">

    :::code language="python" source="~/foundry-samples-main/samples/python/enterprise-agent-tutorial/1-idea-to-prototype/main.py" id="sharepoint_tool_setup":::

  </Tab>
  <Tab title="C#">

    :::code language="csharp" source="~/foundry-samples-main/samples/csharp/enterprise-agent-tutorial/1-idea-to-prototype/ModernWorkplaceAssistant/Program.cs" id="sharepoint_tool_setup":::

  </Tab>
</Tabs>

### Create the MCP tool for the agent

<Tabs>
  <Tab title="Python">

    :::code language="python" source="~/foundry-samples-main/samples/python/enterprise-agent-tutorial/1-idea-to-prototype/main.py" id="mcp_tool_setup":::

  </Tab>
  <Tab title="C#">

    :::code language="csharp" source="~/foundry-samples-main/samples/csharp/enterprise-agent-tutorial/1-idea-to-prototype/ModernWorkplaceAssistant/Program.cs" id="mcp_tool_setup":::

  </Tab>
</Tabs>

### Create the agent and connect the tools

Create the agent and connect the SharePoint and MCP tools.

<Tabs>
  <Tab title="Python">

    :::code language="python" source="~/foundry-samples-main/samples/python/enterprise-agent-tutorial/1-idea-to-prototype/main.py" id="create_agent_with_tools":::

  </Tab>
  <Tab title="C#">

    :::code language="csharp" source="~/foundry-samples-main/samples/csharp/enterprise-agent-tutorial/1-idea-to-prototype/ModernWorkplaceAssistant/Program.cs" id="create_agent_with_tools":::

  </Tab>
</Tabs>

### Converse with the agent

Finally, implement an interactive loop to converse with the agent.

<Tabs>
  <Tab title="Python">

    :::code language="python" source="~/foundry-samples-main/samples/python/enterprise-agent-tutorial/1-idea-to-prototype/main.py" id="agent_conversation":::

  </Tab>
  <Tab title="C#">

    :::code language="csharp" source="~/foundry-samples-main/samples/csharp/enterprise-agent-tutorial/1-idea-to-prototype/ModernWorkplaceAssistant/Program.cs" id="agent_conversation":::

  </Tab>
</Tabs>

### Expected output from agent sample code

When you run the agent, you see output similar to the following example. The output shows successful tool configuration and agent responses to business scenarios:

```bash
‚úÖ Connected to Foundry
üöÄ Foundry - Modern Workplace Assistant
Tutorial 1: Building Enterprise Agents with Microsoft Foundry SDK
======================================================================
ü§ñ Creating Modern Workplace Assistant...
üìÅ Configuring SharePoint integration...
   Connection ID: /subscriptions/.../connections/ContosoCorpPoliciesProcedures
‚úÖ SharePoint tool configured successfully
üìö Configuring Microsoft Learn MCP integration...
   Server URL: https://learn.microsoft.com/api/mcp
‚úÖ MCP tool configured successfully
üõ†Ô∏è  Creating agent with model: gpt-4o-mini
   ‚úì SharePoint tool added
   ‚úì MCP tool added
   Total tools: 2
‚úÖ Agent created successfully (name: Modern Workplace Assistant, version: 1)

======================================================================
üè¢ MODERN WORKPLACE ASSISTANT - BUSINESS SCENARIO DEMONSTRATION
======================================================================
This demonstration shows how AI agents solve real business problems
using the Microsoft Foundry SDK.
======================================================================

üìä SCENARIO 1/3: üìã Company Policy Question (SharePoint Only)
--------------------------------------------------
‚ùì QUESTION: What is Contoso πs remote work policy?
üéØ BUSINESS CONTEXT: Employee needs to understand company-specific remote work requirements
üéì LEARNING POINT: SharePoint tool retrieves internal company policies
--------------------------------------------------
ü§ñ AGENT RESPONSE:
‚úÖ SUCCESS: Contoso πs remote work policy, effective January 2024, outlines the following key points:

### Overview
Contoso Corp supports flexible work arrangements, including remote work, to enhance employee productivity and work-life balance.

### Eligibility
- **Full-time Employees**: Must have completed a 90...
   üìè Full response: 1530 characters
üìà STATUS: completed
--------------------------------------------------

üìä SCENARIO 2/3: üìö Technical Documentation Question (MCP Only)
--------------------------------------------------
‚ùì QUESTION: According to Microsoft Learn, what is the correct way to implement Azure AD Conditional Access policies? Please include reference links to the official documentation.
üéØ BUSINESS CONTEXT: IT administrator needs authoritative Microsoft technical guidance
üéì LEARNING POINT: MCP tool accesses Microsoft Learn for official documentation with links
--------------------------------------------------
ü§ñ AGENT RESPONSE:
‚úÖ SUCCESS: To implement Azure AD Conditional Access policies correctly, follow these key steps outlined in the Microsoft Learn documentation:

### 1. Understanding Conditional Access
Conditional Access policies act as "if-then" statements that enforce organizational access controls based on various signals. Th...
   üìè Full response: 2459 characters
üìà STATUS: completed
--------------------------------------------------

üìä SCENARIO 3/3: üîÑ Combined Implementation Question (SharePoint + MCP)
--------------------------------------------------
‚ùì QUESTION: Based on our company πs remote work security policy, how should I configure my Azure environment to comply? Please include links to Microsoft documentation showing how to implement each requirement.
üéØ BUSINESS CONTEXT: Need to map company policy to technical implementation with official guidance
üéì LEARNING POINT: Both tools work together: SharePoint for policy + MCP for implementation docs
--------------------------------------------------
ü§ñ AGENT RESPONSE:
‚úÖ SUCCESS: To configure your Azure environment in compliance with Contoso Corp πs remote work security policy, you need to focus on several key areas, including enabling Multi-Factor Authentication (MFA), utilizing Azure Security Center, and implementing proper access management. Below are specific steps and li...
   üìè Full response: 3436 characters
üìà STATUS: completed
--------------------------------------------------

‚úÖ DEMONSTRATION COMPLETED!
üéì Key Learning Outcomes:
   ‚Ä¢ Microsoft Foundry SDK usage for enterprise AI
   ‚Ä¢ Conversation management via the Responses API
   ‚Ä¢ Real business value through AI assistance
   ‚Ä¢ Foundation for governance and monitoring (Tutorials 2-3)

üéØ Try interactive mode? (y/n): n

üéâ Sample completed successfully!
üìö This foundation supports Tutorial 2 (Governance) and Tutorial 3 (Production)
üîó Next: Add evaluation metrics, monitoring, and production deployment
```

## Step 5: Evaluate the assistant by using cloud evaluation

The evaluation framework tests realistic business scenarios by using the **cloud evaluation** capability of the Microsoft Foundry SDK. Instead of a custom local approach, this pattern uses the built-in evaluators (`builtin.violence`, `builtin.fluency`, `builtin.task_adherence`) and the `openai_client.evals` API to run scalable, repeatable evaluations in the cloud.

This evaluation framework demonstrates:

- **Agent targeting**: The evaluation runs queries directly against your agent by using `azure_ai_target_completions`.
- **Built-in evaluators**: Safety (violence detection), quality (fluency), and task adherence metrics.
- **Cloud-based execution**: Eliminates local compute requirements and supports CI/CD integration.
- **Structured results**: Pass/fail labels, scores, and reasoning for each test case.

The code breaks down into the following main sections:

1. [Configure the evaluation](#configure-the-evaluation).
1. [Run the cloud evaluation](#run-the-cloud-evaluation).
1. [Retrieve evaluation results](#retrieve-evaluation-results).

<Tip>
For detailed guidance on cloud evaluations, see [Run evaluations in the cloud](/observability/cloud-evaluation). To find a comprehensive list of built-in evaluators available in Foundry, see [Observability in generative AI](/observability/observability).
</Tip>
<Note>
The C# SDK uses **protocol methods** with `BinaryData` and `BinaryContent` instead of typed objects. This approach requires helper methods to parse JSON responses. See the [C# Evaluations SDK sample](https://github.com/Azure/azure-sdk-for-net/blob/feature/ai-foundry/agents-v2/sdk/ai/Azure.AI.Projects/samples/Sample21_Evaluations.md) for the complete pattern.
</Note>
### Configure the evaluation

First, create an evaluation object that defines your data schema and testing criteria. The evaluation uses built-in evaluators for violence detection, fluency, and task adherence.

In Python, use the OpenAI client directly. In C#, get an `EvaluationClient` from the project client:

<Tabs>
  <Tab title="Python">

    :::code language="python" source="~/foundry-samples-main/samples/python/enterprise-agent-tutorial/1-idea-to-prototype/evaluate.py" id="configure_evaluation":::

  </Tab>
  <Tab title="C#">

    :::code language="csharp" source="~/foundry-samples-main/samples/csharp/enterprise-agent-tutorial/1-idea-to-prototype/Evaluate/Program.cs" id="configure_evaluation":::

  </Tab>
</Tabs>

The `testing_criteria` array specifies which evaluators to run:

- `builtin.violence`: Detects violent or harmful content in responses.
- `builtin.fluency`: Assesses response quality and readability (requires a model deployment).
- `builtin.task_adherence`: Evaluates whether the agent followed instructions correctly.

### Run the cloud evaluation

Create an evaluation run that targets your agent. The `azure_ai_target_completions` data source sends queries to your agent and captures responses for evaluation:

<Tabs>
  <Tab title="Python">

    :::code language="python" source="~/foundry-samples-main/samples/python/enterprise-agent-tutorial/1-idea-to-prototype/evaluate.py" id="run_cloud_evaluation":::

  </Tab>
  <Tab title="C#">

    :::code language="csharp" source="~/foundry-samples-main/samples/csharp/enterprise-agent-tutorial/1-idea-to-prototype/Evaluate/Program.cs" id="run_cloud_evaluation":::

  </Tab>
</Tabs>

The `data_source` configuration:

- **type**: `azure_ai_target_completions` routes queries through your agent
- **source**: Inline content with test queries (you can also use a dataset file ID)
- **input_messages**: Template that formats each query for the agent
- **target**: Specifies the agent name and version to evaluate

### Retrieve evaluation results

Poll the evaluation run until it completes, then retrieve the detailed output items:

<Tabs>
  <Tab title="Python">

    :::code language="python" source="~/foundry-samples-main/samples/python/enterprise-agent-tutorial/1-idea-to-prototype/evaluate.py" id="retrieve_evaluation_results":::

  </Tab>
  <Tab title="C#">

    :::code language="csharp" source="~/foundry-samples-main/samples/csharp/enterprise-agent-tutorial/1-idea-to-prototype/Evaluate/Program.cs" id="retrieve_evaluation_results":::

  </Tab>
</Tabs>

Each output item includes:

- **Label**: Binary "pass" or "fail" result
- **Score**: Numeric score on the evaluator's scale
- **Reason**: Explanation of why the score was assigned (for LLM-based evaluators)

### Expected output from cloud evaluation (evaluate.py)

When you run the evaluation script, you see output similar to the following example. The output shows the evaluation object creation, run submission, and results retrieval:

```bash
python evaluate.py
Agent created (name: Modern_Workplace_Assistant, version: 1)
Evaluation created (id: eval_xyz789, name: Agent Evaluation)
Evaluation run created (id: run_def456)
Waiting for eval run to complete... current status: running
Waiting for eval run to complete... current status: running

‚úì Evaluation run completed successfully!
Result Counts: {'passed': 2, 'failed': 0, 'errored': 0}

OUTPUT ITEMS (Total: 2)
------------------------------------------------------------
[OutputItem(id='item_1', 
            sample={'query': 'What is the largest city in France?', 
                    'output_text': 'The largest city in France is Paris...'},
            results=[{'name': 'violence_detection', 'passed': True, 'score': 0},
                     {'name': 'fluency', 'passed': True, 'score': 4, 
                      'reason': 'Response is clear and well-structured'},
                     {'name': 'task_adherence', 'passed': True, 'score': 5}]),
 OutputItem(id='item_2', ...)]
------------------------------------------------------------
Eval Run Report URL: https://ai.azure.com/...
Evaluation deleted
Agent deleted
```

### Understanding evaluation results

Cloud evaluations provide structured results that you can view in the Foundry portal or retrieve programmatically. Each output item includes:

| Field | Description |
| ------- | ------------- |
| **Label** | Binary "pass" or "fail" based on the threshold |
| **Score** | Numeric score (scale depends on evaluator type) |
| **Threshold** | The cutoff value that determines pass/fail |
| **Reason** | LLM-generated explanation for the score (when applicable) |

**Score scales by evaluator type:**

- **Quality evaluators** (fluency, coherence): 1-5 scale
- **Safety evaluators** (violence, self-harm): 0-7 severity scale (lower is safer)
- **Task evaluators** (task_adherence): 1-5 scale

You can also view detailed results in the Foundry portal by selecting **Evaluation** from your project and selecting the evaluation run. The portal provides visualizations, filtering, and export options.

<Tip>
For production scenarios, consider running evaluations as part of your CI/CD pipeline. See [How to run an evaluation in Azure DevOps](/observability/evaluation-azure-devops), and [Continuously evaluate your AI agents](../../how-to/continuous-evaluation-agents.md) for integration patterns.
</Tip>
## Summary

You now have:
- A working single-agent prototype grounded in internal and external knowledge.
- A repeatable evaluation script demonstrating enterprise validation patterns.
- A clear upgrade path: more tools, multi-agent orchestration, richer evaluation, deployment.

These patterns reduce prototype-to-production friction: you can add data sources, enforce governance, and integrate monitoring without rewriting core logic.

## Next steps

This tutorial demonstrates **Stage 1** of the developer journey - from idea to prototype. This minimal sample provides the foundation for enterprise AI development. To continue your journey, explore the next stages:

### Suggested additional enhancements
- Add more data sources ([Azure AI Search](/agents/tools/ai-search), [other sources](/setup/connections-add)).
- Implement advanced evaluation methods ([AI-assisted evaluation](../../how-to/develop/evaluate-sdk.md)).
- Create [custom tools](/agents/tools/private-tool-catalog) for business-specific operations.
- Add [conversation memory and personalization](https://learn.microsoft.com/azure/cosmos-db/gen-ai/azure-agent-service).

### Stage 2: Prototype to production

- [Implement safety assessment with red-team testing](/observability/run-scans-ai-red-teaming-agent).
- [Create comprehensive evaluation datasets with quality metrics](/models/fine-tuning/data-generation).
- [Apply organization-wide governance policies and model comparison](../../how-to/built-in-policy-model-deployment.md).
- [Configure fleet monitoring, CI/CD integration, and production deployment endpoints](../../concepts/deployments-overview.md).

### Stage 3: Production to adoption

- [Collect trace data and user feedback from production deployments](/agents/development/trace-agent-framework).
- [Fine-tune models and generate evaluation insights for continuous improvement](/models/fine-tuning/fine-tuning).
- [Integrate Azure API Management gateway with continuous quality monitoring](/manage/enable-ai-api-management-gateway-portal).
- [Implement fleet governance, compliance controls, and cost optimization](https://learn.microsoft.com/azure/cloud-adoption-framework/scenarios/ai/platform/governance).

## Related content

- [Foundry Agent Service overview](/agents/development/overview)
- [SharePoint tool documentation](/agents/tools/sharepoint)
- [MCP tool integration](/agents/tools/model-context-protocol)
- [Multi-agent patterns](../../agents/how-to/connected-agents.md)
